# 1.

```rust
fn glob_new(py: Python, dir: Py<PyString>, pattern: Py<PyString>) -> PyResult<()> { Ok(()) }
```

## `--release`

```
----------------------------------------------------- benchmark: 1 tests -----------------------------------------------------
Name (time in ns)           Min          Max      Mean   StdDev    Median      IQR  Outliers  OPS (Mops/s)  Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     83.0000  10,666.0000  140.4603  92.9318  125.0000  41.0000     13;13        7.1195   21016           1
------------------------------------------------------------------------------------------------------------------------------
```

# 2.

`fn glob_new(dir: &PyString, pattern: &PyString) -> PyResult<i32> {}`

## `--release`
```
----------------------------------------------------- benchmark: 1 tests ----------------------------------------------------
Name (time in ns)           Min         Max      Mean   StdDev    Median      IQR  Outliers  OPS (Mops/s)  Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     42.0000  3,167.0000  137.6128  27.1145  125.0000  41.0000   8996;20        7.2668   30265           1
-----------------------------------------------------------------------------------------------------------------------------
```

# 3.
```rust
fn glob_new(dir: String, pattern: String) -> PyResult<()> { Ok(()) }
```

## `--release`
```
--------------------------------------------------- benchmark: 1 tests ---------------------------------------------------
Name (time in ns)           Min       Max      Mean  StdDev    Median     IQR   Outliers  OPS (Mops/s)  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     98.1250  610.2100  107.5535  6.3373  108.9600  3.9550  7238;2939        9.2977   49586         200
--------------------------------------------------------------------------------------------------------------------------
```

# 4.
- simple rust implementation

```
------------------------------------------------ benchmark: 1 tests ------------------------------------------------
Name (time in ms)            Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     334.6124  341.9153  338.4935  2.8087  338.8208  4.1174       2;0  2.9543       5           1
--------------------------------------------------------------------------------------------------------------------
```
# 4.0.1
- slowed down after `cargo clean`
- with profile.release -
```toml
[profile.release]
opt-level = 3
lto = true
strip = true
codegen-units = 1
```
```
------------------------------------------------ benchmark: 1 tests ------------------------------------------------
Name (time in ms)            Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     360.3809  374.7765  370.0916  5.7566  372.7568  6.2863       1;0  2.7020       5           1
--------------------------------------------------------------------------------------------------------------------
```
# 4.0.2
- with rayon `par_bridge`
```
------------------------------------------------ benchmark: 1 tests ------------------------------------------------
Name (time in ms)            Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     329.4285  334.0398  331.9178  1.9021  331.4067  3.0280       2;0  3.0128       5           1
--------------------------------------------------------------------------------------------------------------------
```
# 4.0.3
- py.allow_threads
```
------------------------------------------------ benchmark: 1 tests ------------------------------------------------
Name (time in ms)            Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     329.3400  334.3388  331.7669  1.8805  331.9905  2.5584       2;0  3.0142       5           1
--------------------------------------------------------------------------------------------------------------------
```

# 4.1
- with jemallocator
```
------------------------------------------------ benchmark: 1 tests ------------------------------------------------
Name (time in ms)            Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
--------------------------------------------------------------------------------------------------------------------
test_bench_glob_new     331.5503  335.3552  333.4776  1.6889  333.3275  3.1062       2;0  2.9987       5           1
--------------------------------------------------------------------------------------------------------------------
```



# 5.
- python glob
```
------------------------------------------------ benchmark: 1 tests -----------------------------------------------
Name (time in ms)           Min       Max      Mean  StdDev    Median     IQR  Outliers     OPS  Rounds  Iterations
-------------------------------------------------------------------------------------------------------------------
test_bench_py_glob     174.6711  179.8995  177.0756  2.0546  176.4860  3.5130       3;0  5.6473       6           1
-------------------------------------------------------------------------------------------------------------------
```